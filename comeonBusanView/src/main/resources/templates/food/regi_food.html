<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.7.1.js"
	integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
	crossorigin="anonymous"></script>
	
	<style>
	
		body {
	        font-family: Arial, sans-serif;
	        margin: 0;
	        padding: 0;
	        display: flex;
	        flex-direction: column;
	        height: 100vh;
	    }
	
	    header, footer {
	        flex-shrink: 0;
	    }
	
	    .main-content {
	        display: flex;
	        justify-content: center;
	        align-items: center;
	        flex-grow: 1;
	    }
			
		#firstContainer {
			width: 50%;
			max-width: 1200px;
			margin: 0 auto;
			padding: 20px;
			box-sizing: border-box;
			background-color: #fff;
			border-radius: 8px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		}
		
		
		input[type="text"], textarea {
	        width: 100%;
	        padding: 10px;
	        margin: 10px 0;
	        border: 1px solid #a8d0e6; /* 연한 파란색 테두리 */
	        border-radius: 10px; /* 둥근 모서리 */
	        box-sizing: border-box;
	    }
	    
	    textarea {
	        height: 150px;
	    }
	
	    form {
	        display: flex;
	        flex-direction: column;
	        align-items: center;
	    }
	
	    input[type="file"], input[type="submit"] {
	        width: 100%;
	        margin-top: 10px;
	        background-color: #f0f4f8;
	        cursor: pointer;
	    }
	    
	    input[type="submit"] {
	    	background-color: #a8d0e6;
	    	width: 50%;
	    	height: 100px; 
	    	border-radius: 10px;
	    	font-weight: bold;
	    	font-size: 25px;
	    }
	    
	    input[type="submit"]:hover {
	    	background-color: #91b4cc;
	    }
	</style>
	
</head>
<body>
<header>
        <th:block th:insert="~{/fragments/header2.html}"></th:block>
</header>

<div id="firstContainer">
	<h1>맛집 투어 등록</h1>
	<hr>
	<form name="frm" enctype="multipart/form-data">
	
		<span>등록 ID </span><input type="text" name="uc_seq"><br>
		<span>맛집 게시글 제목 </span><input type="text" name="title"><br><!-- main_title / title / place -->
		<span>맛집 게시글 부제목 </span><input type="text" name="subtitle"><br>
		<span>주력 메뉴 </span><input type="text" name="rprsntv_menu"><br>
		<span>소재지 (구 단위) </span><input type="text" name="gugun_nm"><br>
		<span>소재지 (전체) </span><input type="text" name="addr1"><br>
		<span>맛집 연락처 </span><input type="text" name="cntct_tel"><br>
		<span>맛집 홍보페이지 링크 (인스타, 네이버 등) </span><input type="text" name="homepage_url"><br>
		
		
		<span>운영일 및 시간</span><br>
		<textarea name="usage_day_week_and_time"></textarea><br>
		
		<span>맛집 설명</span><br>
		<textarea name="itemcntnts"></textarea><br>
		
		<span>홍보 이미지 </span><br>
		<input type="file" name="file"><br><br>
		
		<input type="submit" value="등록하기">
	
	</form>
</div>

<footer>
	<th:block th:insert="~{/fragments/footer.html}"></th:block>
</footer>
<script>

	$(document).ready(function(){
		$("form").on("submit", function(event){
			event.preventDefault();
			
			var formData = new FormData($(this)[0]);
			
			if(formData == null){
				cosole.log("formdata is null");
			}else{
				console.log("formData is not null");
			}
			
			$.ajax({
				url:"http://localhost:9002/kibTest/food",
				method:"POST",
				data: formData,
				contentType: false,
				processData: false,
				success: function(response){
					alert("등록이 완료되었습니다.");
					window.location.href="/foodList";
				},
				error: function(error){
					console.log("Error: " + error);
				}
			});
		});
	});
	
</script>
</body>
</html>