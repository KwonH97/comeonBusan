<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>리뷰 리스트</title>
<link rel="stylesheet" th:href="@{/css/header.css}">
<script src="/js/common.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<th:block th:insert="~{/fragments/header2.html}"></th:block>
	<div id="demo"></div>
	<script>
	
/*	document.addEventListener("DOMContentLoaded", function() {
        const clientId = 'fOjquJtlpoSJ14Mkxb8X'; // 애플리케이션 클라이언트 아이디
        const clientSecret = 'Hj7Y_nUFJj'; // 애플리케이션 클라이언트 시크릿
        const query = encodeURIComponent("부산 파라다이스호텔");

        const apiURL = `https://openapi.naver.com/v1/search/blog?query=${query}`;

        fetch(apiURL, {
            method: 'GET',
            headers: {
                'X-Naver-Client-Id': clientId,
                'X-Naver-Client-Secret': clientSecret
            }
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }
            return response.json(); // JSON 결과를 받음
        })
        .then(data => {
            const resultDiv = document.getElementById('demo');
            let html = '<ul>';

            data.items.forEach(item => {
                html += `<li><a href="${item.link}" target="_blank">${item.title}</a> - ${item.description}</li>`;
            });

            html += '</ul>';
            resultDiv.innerHTML = html;
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
            document.getElementById('demo').textContent = '검색 결과를 가져오는 중 오류가 발생했습니다.';
        });
    });
	
	
	/*	window.onload = function() {
			var xhr = new XMLHttpRequest();
			var clientId = 'fOjquJtlpoSJ14Mkxb8X'; // 네이버 API 클라이언트 아이디
			var clientSecret = 'Hj7Y_nUFJj'; // 네이버 API 클라이언트 시크릿
			var query = encodeURIComponent("부산 파라다이스호텔");
			xhr.open("GET",
					"https://openapi.naver.com/v1/search/blog.xml?query=" + query + "&display=10&sort=date", true);
			xhr.setRequestHeader("X-Naver-Client-Id", clientId);
			xhr.setRequestHeader("X-Naver-Client-Secret", clientSecret);
			xhr.onreadystatechange = function() {
				if (xhr.readyState == 4 && xhr.status == 200) {
					var parser = new DOMParser();
					var xmlDOc = parser.parseFromString(xhr.responseText,
							"text/xml");
					var items = xmlDoc.getElementsByTagName("item");

					var listHtml = "<ul>";
					for (var i = 0; i < items.length; i++) {
						var title = items[i].getElementsByTagName("title")[0].textContent;
						var link = items[i].getElementsByTagName("link")[0].textContent;
						listHtml += "<li><a href = '" + link + "'>" + title
								+ "</a></li>";
					}
					listHtml = "</ul>";

					document.getElementById("demo").innerHTML = listHtml;
				} else if (xhr.readyState == 4) {
					// 오류가 발생했을 때의 처리
					console.error(xhr.responseText);
				}
			};
			xhr.send();
		}; */
	</script>
</body>
</html>